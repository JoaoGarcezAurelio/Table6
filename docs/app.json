[{"name":"app.R","content":"source(\"data_cleaning.R\")\n\nthematic_shiny()\n\nui <- page_fluid(\n  theme = bs_theme(preset = \"minty\"),\n  headerPanel(\"Table 6 - The relationship between participant responsiveness on outcomes as reported across studies (N = 6)\"),\n  reactableOutput(\"Table6\"),\n  textInput(\"footnote\", \"* indicates a negative association.\",\n            width = \"100%\")\n  )\n\nserver <- function(input, output) {\n  output$Table6 <- renderReactable({\n    reactable(Table6,\n              theme = default(centered = TRUE),\n              filterable = TRUE,\n              bordered = FALSE,\n              striped = FALSE,\n              highlight = TRUE,\n              searchable = TRUE,\n              defaultPageSize = 16,\n              groupBy = \"Outcome Domain\",\n              columns = list(\n                Study_ID = colDef(\n                  align = \"center\",\n                  maxWidth = 130,\n                  name = \"Study ID\",\n                  cell = function(value, index) {\n                    label3 <- DOITable6[index, \"Study_ID\"] # had to create a separate file for the DOIs for this table and just replaced label1 with label3 in case there was the risk of some overwriting. Same for DOI3 below\n                    DOI3 <- DOITable6[index, \"DOI\"]\n                    htmltools::div(\n                      htmltools::p(\n                        htmltools::tags$a(href = DOI3, target = \"_blank\", label3)\n                      ),\n                    )\n                  }\n                ),\n                \"First Author\" = colDef(\n                  align = \"left\",\n                  maxWidth = 130\n                ),\n                Year = colDef(\n                  align = \"center\",\n                  maxWidth = 130\n                ),\n                Country = colDef(\n                  header = with_tooltip(\"Country\", \n                                        \"Country where data was collected\"),\n                  maxWidth = 130\n                ),\n                CountryFlag = colDef(\n                  name = \"\",\n                  maxWidth = 70,\n                  align = \"center\",\n                  cell = embed_img(\"Country\",\n                                   height = \"25\",\n                                   width = \"40\")\n                ),\n                \"Outcome Domain\" = colDef(\n                  align = \"center\",\n                  header = with_tooltip(\"Outcome Domain\", \n                                        \"Student outcome(s) assessed\"),\n                ),\n                \"Classification\" = colDef(\n                  header = with_tooltip(\"Classification\", \"Classification Quality\"),\n                  align = \"center\",\n                  maxWidth = 120,\n                  cell = pill_buttons(Table6,\n                                      color_ref = \"Classification_colours\", \n                                      opacity = 0.7),\n                ),\n                \"Classification_colours\" = colDef(\n                  show = FALSE),\n                \"Total Tests\" = colDef(\n                  align = \"center\",\n                  header = with_tooltip(\n                    \"Total Tests\", \n                    \"Total of statistical tests performed\"),\n                  cell = data_bars(Table6,\n                                   text_position = \"center\",\n                                   round_edges = TRUE,\n                                   box_shadow = TRUE,\n                                   bar_height = 15)),\n                \"Statistically Significant Tests\" = colDef(\n                  align = \"center\",\n                  maxWidth = 190,\n                  header = with_tooltip(\n                    \"Statistically Significant Tests\", \n                    \"Total of statistically significant tests\"),\n                  cell = data_bars(Table6,\n                                   text_position = \"center\",\n                                   round_edges = TRUE,\n                                   box_shadow = TRUE,\n                                   bar_height = 15)),\n                \"Effect Size\" = colDef(\n                  align = \"center\",\n                  header = with_tooltip(\n                    \"Effect Size\", \n                    \"Effect Sizes and their range, where applicable, for statistically significant effects\")\n                )\n              )\n    )\n})\n\n}\n\n# Run the application \nshinyApp(ui = ui, server = server)\n","type":"text"},{"name":"Data/Processed Data/Table6.csv","content":"Study_ID,First Author,Year,Country,CountryFlag,Outcome Domain,Classification,Total Tests,Statistically Significant Tests,Effect Size\r\n16,Leadbeater,2016,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,SEC,Low,2,2,\"Beta range = [0.11, 0.12]\"\r\n31,Low,2015,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,SEC,Low,6,6,\"Beta range = [*0.15, 0.13]\"\r\n17,Leadbeater,2018,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,SEC,Medium,1,1,Beta = 0.04\r\n18,Low,2014,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Attitudes towards others,Medium,2,1,Beta = 0.37\r\n18,Low,2014,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Attitudes towards school,Medium,5,3,\"Beta range = [0.13, 0.21]\"\r\n31,Low,2015,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Prosocial behaviour,Low,1,1,Beta = 0.05\r\n18,Low,2014,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Prosocial behaviour,Medium,2,0,\r\n16,Leadbeater,2016,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,Emotional distress,Low,2,0,\r\n31,Low,2015,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Emotional distress,Low,1,1,Beta = *0.13\r\n17,Leadbeater,2018,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,Emotional distress,Medium,2,1,Beta = 0.06\r\n18,Low,2014,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Emotional distress,Medium,1,1,\"Beta = 0.22, SE = 0.09 \"\r\n16,Leadbeater,2016,Canada,https://upload.wikimedia.org/wikipedia/commons/archive/d/d9/20210109031434%21Flag_of_Canada_%28Pantone%29.svg,Aggression,Low,1,0,\r\n31,Low,2015,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Aggression,Low,3,3,\"Beta range = [*0.12, *0.03]\"\r\n5,Cook,2018,USA,https://upload.wikimedia.org/wikipedia/commons/d/de/Flag_of_the_United_States.png,Aggression,Medium,1,1,Beta = 0.13","type":"text"},{"name":"README.md","content":"# Table 6 of the systematic review regarding the quality of SEL implementations\n\nThis repository contains the required files to build Table 6. The website below is the website for Table 3. Other tables are located in repositories with the respective names (e.g., Table3, Table4, etc.).\n\nWebsite link: https://joaogarcezaurelio.github.io/Table6\n","type":"text"},{"name":"Shinylive.R","content":"# Follow the HappywithGit instructions to set up the\n# process. They have very detailed info and chapters 15 to 17 are comprehensive.\n# If my PAT (personal access token) is still working, then I will simply skip \n# the next command (below). But if it has expired (you have written on dashlane\n# until when it is active) you need to generate a new one. The happywithgit book\n# has instructions on how you should proceed.\n# Also, make sure your git is up to date. They also have instructions on that.\n\n# Assuming all is sorted, you follow Rami Krispin's shinylive instructions.\n# To ensure that the app is exported to a docs folder using the shinylive:\n\nshinylive::export(\"/Users/user/Documents/JGA R World/Table6\", \n                  \"docs\")\n\n# To make sure your app renders, run the command below:\n\nhttpuv::runStaticServer(\"docs\")\n\n# Once this is done and you are certain the app works, you select the files in\n# the git tab that you want to commit and press commit. You will be asked to\n# provide info on what you are commiting before pressing commit. Once you press\n# commit, you should move to the next step, which is to press the green arrow\n# for push. That way you ensure that the files are actually pushed to github,\n# otherwise the commit files are not pushed and won't be in your github\n# repository.\n\n# Keep in mind to ensure that git is up to date using the \"brew git update\" in \n# the # terminal\n","type":"text"},{"name":"Table6.Rproj","content":"Version: 1.0\n\nRestoreWorkspace: Default\nSaveWorkspace: Default\nAlwaysSaveHistory: Default\n\nEnableCodeIndexing: Yes\nUseSpacesForTab: Yes\nNumSpacesForTab: 2\nEncoding: UTF-8\n\nRnwWeave: Sweave\nLaTeX: pdfLaTeX\n\nAutoAppendNewline: Yes\n","type":"text"},{"name":"data_cleaning.R","content":"# Key packages for the app\n\n#  install.packages(\"shiny\") # For the shiny app\n#  install.packages(\"bslib\") # For certain shiny app traits\n#  install.packages(\"readr\") # For loading csv\n#  install.packages(\"shinythemes\") # For shiny themes\n#  install.packages(\"thematic\") # For consistence between layout and plots\n#  install.packages(\"reactable\") # For table\n#  install.packages(\"reactablefmtr\") # For table\n#  install.packages(\"here\") # For file management\n#  install.packages(\"shinylive\") # For github optimisation\n#  install.packages(\"htmltools\") # For the DOI links\n#  install.packages(\"magrittr\") # For the pipe (avoided tidyverse in case it makes it more difficult for shinyserver)\n#  install.packages(\"dplyr\") # For the mutate functions \n\n# Loading the packages\n\nlibrary(shiny) \nlibrary(bslib)\nlibrary(readr)\nlibrary(shinythemes)\nlibrary(thematic)\nlibrary(reactable)\nlibrary(reactablefmtr)\nlibrary(here)\nlibrary(shinylive)\nlibrary(htmltools)\nlibrary(magrittr)\nlibrary(dplyr)\n\n\n# Uploading the table\n\nTable6 <- \n  read_csv(here(\"Data\",\n                \"Processed Data\",\n                \"Table6.csv\"))\n\n# Now I create the colour code I want the classification variable to have:\n\nTable6 <- Table6 %>%\n  mutate(\n    Classification_colours = case_when(Classification == \"High\" ~ \"darkgreen\",\n                                       Classification == \"Low\" ~ \"red\",\n                                       TRUE ~ \"orange\")\n  )\n\n# Creating a tooltip option that will be used in the headers.\n\nwith_tooltip <- function(value, tooltip) {\n  tags$abbr(style = \"text-decoration: underline; text-decoration-style: dotted; cursor: help\",\n            title = tooltip, value)\n}\n\n\n# I will need a different DOI table for Table 6:\n\nDOITable6 <- data.frame(\n  Study_ID = c(\"16\", \"31\", \"17\", \"18\", \"18\", \"31\", \"18\", \"16\", \"31\", \"17\",\n               \"18\", \"16\", \"31\", \"5\"),\n  DOI = c(\"https://doi.org/10.1002/ajcp.12092\",\n          \"https://doi.org/10.1016/j.jsp.2015.09.002\",\n          \"https://doi.org/10.1007/s11121-018-0948-8\",\n          \"https://doi.org/10.1007/s11121-012-0359-1\",\n          \"https://doi.org/10.1007/s11121-012-0359-1\",\n          \"https://doi.org/10.1016/j.jsp.2015.09.002\",\n          \"https://doi.org/10.1007/s11121-012-0359-1\",\n          \"https://doi.org/10.1002/ajcp.12092\",\n          \"https://doi.org/10.1016/j.jsp.2015.09.002\",\n          \"https://doi.org/10.1007/s11121-018-0948-8\",\n          \"https://doi.org/10.1007/s11121-012-0359-1\",\n          \"https://doi.org/10.1002/ajcp.12092\",\n          \"https://doi.org/10.1016/j.jsp.2015.09.002\",\n          \"http://dx.doi.org/10.1037/spq0000233\"))\n","type":"text"}]
